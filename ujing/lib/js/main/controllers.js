!function(t,i){define(["angular","lib/js/main/services"],function(t){"use strict";return t.module("mApp.controllers",["mApp.services"]).controller("mainCtrl",["$rootScope","baseService","widgetFactory","$ionicPlatform","log","$ionicHistory","picture","tip",function(i,o,n,e,c,r,u,s){i.isHome=!0,i.indexStateList=["home"],i.exitBack=function(){CONFIGURATION.com.midea.isFullApp?i.goBack():i.exit()},i.exit=function(){n.exit().then(t.noop(),function(){window.history.back()})},i.goBack=function(){window.history.back()},i.tip=function(t,i){return s(t,i)},i.errorTip=function(t,i,o){return function(t,i,o){return i="出错了: "+(i?i:t&&t.msg?t.msg:"请刷新重试"),s(i,o)}},e.registerBackButtonAction(function(){c("Back button press",i.isHome),i.isHome?i.exitBack():i.goBack()},100,"main"),i.delayTime=ionic.Platform.isIOS?500:200,i.$on("$stateChangeSuccess",function(t,o){i.isHome=i.indexStateList.indexOf(o.name)!==-1}),i.takePhoto=function(t,i,o){u.takePhoto(t,i,o)},i.showPhoto=function(t,i){u.showPhoto(t,i)},i.getPictures=function(t){return u.getPictures(t)},i.delPicture=function(t,i,o,n){u.delPicture(t,i,o,n)},i.closePicture=function(t){u.closePicture(t)}}])}),i[""]=t}({},function(){return this}());